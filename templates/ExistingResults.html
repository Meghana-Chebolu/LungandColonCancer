{% extends "Navbar.html" %}
{% block content %}
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lung Disease Detection</title>
  
    <link rel="stylesheet" href="/static/css/styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/fontawesome.min.css"
      integrity="sha384-QYIZto+st3yW+o8+5OHfT6S482Zsvz2WfOzpFSXMF9zqeLcFV0/wlZpMtyFcZALm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/flatpickr@4.6.9/dist/flatpickr.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr@4.6.9/dist/flatpickr.min.css">
  
  </head>
  <body>
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-6">
          <form id="submissionForm" action="/existingresults" enctype="multipart/form-data" method="POST">
            <div class="mb-3">
              <label for="patientName" class="form-label">Patient Name</label>
              <input type="text" class="form-control" id="patientName" name="patientName">
            </div>
            <div class="mb-3">
              <label for="dob" class="form-label">Date of Birth</label>
              <input type="date" class="form-control" id="dob" name="dob">
            </div>
            <div class="mb-3">
              <label for="email" class="form-label">Email address</label>
              <input type="email" class="form-control" id="email" name="email">
            </div>
            <button type="submit" class="btn btn-primary">View Results</button>
          </form>
        </div>
      </div>
      <div id="resultContainer" class="container" style="display: none;">
        <div class="row justify-content-center mt-5">
            <div class="col-md-11">
                <div id="resultBox">
                    <h2 style="color: rgba(0, 0, 0, 0.776); text-align: center; font-weight: bold; margin-bottom: 20px;">Report</h2>
                    <div class="row">
                        <div class="col-md-6">
                            <div id="patientInfo">
                                <h4><span style="font-weight: bold;">Patient Information:</span></h4>
                                <table class="table table-bordered" style="border-color: black;">
                                    <tbody>
                                        <tr>
                                            <th>Patient Name:</th>
                                            <td style="border-color: black;" id="patientNameDisplay"></td>
                                        </tr>
                                        <tr>
                                            <th>Date of Birth:</th>
                                            <td style="border-color: black;" id="dobDisplay"></td>
                                        </tr>
                                        <tr>
                                            <th>Gender:</th>
                                            <td style="border-color: black;" id="genderDisplay"></td>
                                        </tr>
                                        <tr>
                                            <th>Email:</th>
                                            <td style="border-color: black;" id="emailDisplay"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div id="modelInfo">
                                <h4 style="margin-top: 30px;"><span style="font-weight: bold;">Prediction:</span></h4>
                                <table class="table table-bordered" style="border-color: black;">
                                    <thead>
                                        <tr>
                                            <th>Model Used</th>
                                            <th>Prediction</th>
                                            <th>Accuracy</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td >Standard CNN</td>
                                            <td id="resultDisplay1"></td>
                                            <td >98.6%</td>
                                        </tr>
                                        <tr>
                                            <td >EfficientNet B3</td>
                                            <td id="resultDisplay2"></td>
                                            <td >99%</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>  
    {% endblock %}   
  </body>
</html> 
<script>
  document.getElementById('submissionForm').addEventListener('submit', function(event) {
    event.preventDefault();
    document.getElementById('resultContainer').style.display = 'block';
    // Fetch and display form data or any other relevant processing here
    // For demonstration purpose, let's display the entered data:
    document.getElementById('patientNameDisplay').innerText = document.getElementById('patientName').value;
    document.getElementById('dobDisplay').innerText = document.getElementById('dob').value;
    document.getElementById('genderDisplay').innerText = document.getElementById('gender').value;
    document.getElementById('emailDisplay').innerText = document.getElementById('email').value;
    // Assuming result is already fetched and stored in result1 and result2 variables
    document.getElementById('resultDisplay1').innerText = result1;
    document.getElementById('resultDisplay2').innerText = result2;
  });
</script>
